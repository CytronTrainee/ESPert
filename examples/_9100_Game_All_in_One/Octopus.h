// Game & Watch Octopus Simulator for ESPresso Lite
//
// Instructions
//
// ESPresso Lite V2.0
// Button 1 (GPIO0): Game A, Move Left
// Button 2 (GPIO13): Game B, Move Right
// Button 1 + Button 2: Sound On/Off
//
// ESPresso Lite V1.0
// Button 1 (FLASH): Game A, Move Left
// Button 2 (USER): Game B, Move Right
// Button 1 + Button 2: Sound On/Off
//
// Gamepad
// A: Game A
// B: Game A
// Left: Move Left
// Right: Move Right
// Up: Increase Volume
// Down: Decrease Volume
//
// Game A
// Divers try to recover treasure from sunken ship raise it to their boat.
// Giant octopus tries to prevent them.
// 1. Press button 1. Highest previous score will be displayed. Game A begins when key is released.
// 2. Press operation button 2, and one diver goes into the water.
// 3. By pressing operation button 1 and 2, diver moves left and right to evade moving tentacles.
//    When diver reaches treasure, press operation button 2 to place gems into bag.
//   *Press button once, diver bags one gem, press button twice, two gems, ...
// 4. One gem equals one point. Reach the boat, and earn 3 points.
//   *If diver fails to pick up treasure, he can not return to boat.
// 5. If octopus tentacle touches diver, score one miss! Diver vanishes from screen.
//    When all three divers are gone, game ends.
// 6. When player reaches a bonus score (200 or 500 points), any lost divers at the time are replaced in the boat.
//    Tentacles move at increasing speed, then return to original speed every 100 points.
//
// Game B
// Tentacles move faster than in Game A. In other respects, this game is same as Game A.

#ifndef _GAME_OCTOPUS_H_
#define _GAME_OCTOPUS_H_

#include "Game.h"

namespace octopus {
// OLED bitmaps - Image to Adafruit OLED Bitmap Converter http://www.majer.ch/lcd/adf_bitmap.php
const uint8_t backgroundBitmap[(128 * 64) / 8] PROGMEM = { // background.png
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0xC0,
  0xC0, 0xC0, 0x40, 0x40, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80,
  0xC0, 0xC0, 0xC0, 0xC0, 0x80, 0x80, 0x30, 0x70, 0xF0, 0xF0,
  0xF0, 0xF0, 0xF0, 0xF0, 0x70, 0x70, 0xB0, 0xB0, 0xB0, 0xB0,
  0x70, 0x70, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0x70, 0x70, 0x70,
  0x70, 0x70, 0xF0, 0xF0, 0x70, 0x30, 0x80, 0x80, 0x80, 0xC0,
  0xC0, 0x60, 0x60, 0x60, 0x60, 0x40, 0x40, 0x40, 0x40, 0x00,
  0x00, 0x20, 0x30, 0x30, 0x30, 0x30, 0x20, 0x20, 0x30, 0x30,
  0x18, 0x98, 0x98, 0x98, 0x90, 0x10, 0x00, 0x08, 0x08, 0x18,
  0x18, 0x30, 0x30, 0x30, 0x30, 0x10, 0x90, 0x80, 0x90, 0xD0,
  0xD8, 0xD8, 0xCC, 0xCC, 0xCC, 0x8C, 0x88, 0x88, 0x10, 0x40,
  0x60, 0x20, 0x20, 0x30, 0xB0, 0x98, 0x98, 0xD8, 0x98, 0x90,
  0x10, 0x20, 0x20, 0x60, 0x40, 0x40, 0x40, 0x20, 0x20, 0x10,
  0x10, 0x30, 0x30, 0x60, 0x60, 0x60, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0xE0, 0x1C, 0x03, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x01, 0x01, 0x00, 0x00, 0x01, 0x01, 0x03, 0x03,
  0x03, 0x00, 0x04, 0x04, 0x06, 0x06, 0x03, 0x01, 0x01, 0x03,
  0x02, 0x02, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x60, 0x70,
  0xF0, 0xF0, 0xB0, 0xB8, 0xF8, 0x7C, 0x5E, 0x7F, 0x3F, 0xBF,
  0xBF, 0xDF, 0xDF, 0xDF, 0xFF, 0xFF, 0xBE, 0xBC, 0xBF, 0x75,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xE0, 0xE0, 0xF8, 0x5C, 0x6E,
  0xEE, 0xFE, 0xFF, 0xDF, 0x9F, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0x78, 0x00,
  0x00, 0x00, 0x60, 0x63, 0xE6, 0xFC, 0xE7, 0x61, 0x60, 0x60,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x3F, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
  0x01, 0x01, 0x00, 0x02, 0x02, 0x03, 0x03, 0x03, 0x07, 0x07,
  0x07, 0x87, 0xC7, 0xE7, 0xFF, 0xFF, 0xEF, 0xF7, 0xF7, 0xFF,
  0xFF, 0xFF, 0xF8, 0xEF, 0xEE, 0xF3, 0xFF, 0xFF, 0xEF, 0xEF,
  0xCE, 0xBC, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0xF7, 0xFF, 0x7F,
  0xFF, 0xF7, 0xFF, 0xFF, 0xFF, 0xDD, 0xFE, 0xBE, 0xBE, 0xBE,
  0xBE, 0xFE, 0xFF, 0xFF, 0xFF, 0xF0, 0x60, 0x60, 0x60, 0x60,
  0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0,
  0xE0, 0xC0, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x07, 0x38, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
  0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x01, 0x03, 0x1F, 0x33, 0x3F, 0x3F, 0x3F,
  0x3F, 0x03, 0x03, 0x0F, 0x1F, 0x1F, 0x3F, 0x3F, 0x3E, 0x3D,
  0x3D, 0x7D, 0x5D, 0x7E, 0x76, 0x6E, 0x6E, 0x66, 0x66, 0x7F,
  0x7F, 0xFF, 0xFF, 0xFF, 0x7C, 0x78, 0x78, 0xF8, 0xF8, 0xD8,
  0xD8, 0xD8, 0xD8, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x46, 0x86,
  0x9E, 0xE6, 0x83, 0xE0, 0xE0, 0x80, 0xC0, 0x80, 0x00, 0x60,
  0x18, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0xC0, 0xC0, 0xC0, 0x20, 0xF0, 0x60, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x02, 0x06, 0x06, 0x0C, 0x1C, 0x38, 0x78, 0xF8,
  0xF8, 0x98, 0x3B, 0xB3, 0xB3, 0xB7, 0xB7, 0xA7, 0xE7, 0x7F,
  0x7F, 0xFF, 0xC7, 0x8F, 0x8F, 0x9F, 0x1E, 0x1F, 0x0D, 0x03,
  0x03, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0xC0,
  0xC0, 0xE0, 0xE0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xFF,
  0xF0, 0xF0, 0xF1, 0xF1, 0xF2, 0xF2, 0xF0, 0xF0, 0xF0, 0xF0,
  0xE0, 0xE0, 0xE0, 0xC0, 0xC0, 0x80, 0x80, 0x80, 0x00, 0x00,
  0x00, 0x4C, 0xD9, 0xFB, 0xEF, 0x4C, 0x06, 0x02, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0xD0, 0x48, 0xDF, 0xBF,
  0xF4, 0xE0, 0xE6, 0x96, 0x37, 0xB7, 0xB5, 0xBD, 0xAD, 0xEF,
  0x6B, 0xDF, 0xD7, 0xFD, 0xFF, 0xFF, 0xFF, 0xFE, 0xFE, 0xFC,
  0xFC, 0xFC, 0xF8, 0xF8, 0xF0, 0xE0, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFE,
  0xFC, 0xFF, 0xF0, 0xE0, 0xC0, 0xC0, 0x80, 0x80, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03,
  0xFE, 0x23, 0x12, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xE0, 0xD0,
  0xB8, 0xDE, 0xC9, 0xDE, 0xF3, 0xF6, 0x9C, 0xFF, 0xE7, 0xFF,
  0xFF, 0xFF, 0xFC, 0xFD, 0xFD, 0xFD, 0xFD, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF
};

const uint8_t gameTypeBitmap[2][(32 * 8) / 8] PROGMEM = {
  {0xFF, 0xC3, 0xBD, 0xBD, 0xAD, 0xCB, 0xFF, 0xDF, 0xAB, 0xAB, 0x87, 0xFF, 0x87, 0xFB, 0x87, 0xFB, 0x87, 0xFF, 0xC7, 0xAB, 0xAB, 0xA7, 0xFF, 0xFF, 0xFF, 0xFF, 0x87, 0xEB, 0xED, 0xEB, 0x87, 0xFF}, // gameA.png
  {0xFF, 0xC3, 0xBD, 0xBD, 0xAD, 0xCB, 0xFF, 0xDF, 0xAB, 0xAB, 0x87, 0xFF, 0x87, 0xFB, 0x87, 0xFB, 0x87, 0xFF, 0xC7, 0xAB, 0xAB, 0xA7, 0xFF, 0xFF, 0xFF, 0xFF, 0xBD, 0x81, 0xB5, 0xB5, 0xCB, 0xFF}  // gameB.png
};

const uint8_t onTheBoatBitmap[2][(16 * 16) / 8] PROGMEM = {
  {0xFF, 0xFF, 0x63, 0x41, 0x14, 0x00, 0x94, 0xC1, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xFC, 0xFF, 0xFF, 0xFC, 0xFC, 0xFC, 0xFF, 0xFC, 0xFD, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, // diverOnTheBoat0.png
  {0xFF, 0xFF, 0x63, 0x41, 0x14, 0x00, 0x94, 0xC1, 0xA3, 0x9F, 0xCF, 0x23, 0x13, 0x0F, 0x3F, 0xFF, 0xFC, 0xFC, 0xFF, 0xFF, 0xFC, 0xFC, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFC, 0xFC, 0xFE, 0xFF}  // diverOnTheBoat1.png
};

const uint8_t remainderBitmap[(16 * 16) / 8] PROGMEM = { // diverOnTheBoat2.png
  0xE3, 0xC1, 0x94, 0x00, 0x94, 0xC1, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFD, 0xFE, 0xFC, 0xFC, 0xFC, 0xFE, 0xFD, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

const uint8_t amBitmap[(16 * 8) / 8] PROGMEM = { // am.png
  0xF1, 0xFA, 0xF1, 0xFF, 0xF1, 0xFE, 0xF1, 0xFE, 0xF1, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

const uint8_t pmBitmap[(16 * 8) / 8] PROGMEM = { // pm.png
  0xF0, 0xFA, 0xF8, 0xFF, 0xF1, 0xFE, 0xF1, 0xFE, 0xF1, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

const uint8_t colonBitmap[(8 * 8) / 8] PROGMEM = { // colon.png
  0x99, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

const uint8_t numberBitmap[10][(8 * 8) / 8] PROGMEM = {
  {0x89, 0x7E, 0x7E, 0x7E, 0x89, 0xFF, 0xFF, 0xFF}, // number0.png
  {0xFF, 0xFF, 0xFF, 0xFF, 0x89, 0xFF, 0xFF, 0xFF}, // number1.png
  {0x8F, 0x76, 0x76, 0x76, 0xF9, 0xFF, 0xFF, 0xFF}, // number2.png
  {0xFF, 0x76, 0x76, 0x76, 0x89, 0xFF, 0xFF, 0xFF}, // number3.png
  {0xF9, 0xF7, 0xF7, 0xF7, 0x89, 0xFF, 0xFF, 0xFF}, // number4.png
  {0xF9, 0x76, 0x76, 0x76, 0x8F, 0xFF, 0xFF, 0xFF}, // number5.png
  {0x89, 0x76, 0x76, 0x76, 0x8F, 0xFF, 0xFF, 0xFF}, // number6.png
  {0xF9, 0xFE, 0xFE, 0xFE, 0x89, 0xFF, 0xFF, 0xFF}, // number7.png
  {0x89, 0x76, 0x76, 0x76, 0x89, 0xFF, 0xFF, 0xFF}, // number8.png
  {0xF9, 0x76, 0x76, 0x76, 0x89, 0xFF, 0xFF, 0xFF}  // number9.png
};

const uint8_t missDiverBitmap[(16 * 16) / 8] PROGMEM = { // missDiver.png
  0x1F, 0x0F, 0xA7, 0x07, 0xA4, 0x08, 0x17, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFC, 0xFC, 0xFC, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

const uint8_t missArmBitmap[2][(8 * 8) / 8] PROGMEM = {
  {0xFF, 0xFF, 0xE7, 0xE0, 0xFF, 0xFF, 0xFF, 0xFF}, // missArm0.png
  {0xF3, 0xF1, 0xFC, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF}  // missArm1.png
};

const uint8_t missLegsBitmap[2][(16 * 16) / 8] PROGMEM = {
  {0xC7, 0x97, 0x37, 0x27, 0xE7, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, // missLegs0.png
  {0x9B, 0x3B, 0xF9, 0xFC, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}  // missLegs1.png
};

const uint8_t tentacleBitmap[5][5][(8 * 8) / 8] PROGMEM = {
  {
    {0xF3, 0xF1, 0xF0, 0xF2, 0xF2, 0xF0, 0xF9, 0xF9}, // tentacle00.png
    {0xF3, 0xF1, 0xF1, 0xF0, 0xF0, 0xF8, 0xFC, 0xFE}, // tentacle01.png
    {0xFE, 0xFC, 0xF9, 0xF1, 0xE1, 0xE3, 0xF3, 0xFB}, // tentacle02.png
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
  },
  {
    {0xF3, 0xF1, 0xF0, 0xF2, 0xF2, 0xF0, 0xF9, 0xF9}, // tentacle10.png
    {0xF7, 0xF3, 0xF1, 0xF0, 0xF4, 0xF2, 0xF8, 0xFC}, // tentacle11.png
    {0xF3, 0xF1, 0xF0, 0xF0, 0xFA, 0xFC, 0xFE, 0xFF}, // tentacle12.png
    {0xDF, 0xE7, 0xE0, 0xF0, 0xF8, 0xFC, 0xFF, 0xFF}, // tentacle13.png
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
  },
  {
    {0xF3, 0xF1, 0xF0, 0xF0, 0xF4, 0xF2, 0xF8, 0xFC}, // tentacle20.png
    {0xFD, 0xF8, 0xF0, 0xC4, 0xE2, 0xF8, 0xFC, 0xFF}, // tentacle21.png
    {0xE0, 0xC1, 0x83, 0x0F, 0xFF, 0xFF, 0xFF, 0xFF}, // tentacle22.png
    {0xE0, 0xC1, 0x83, 0x0F, 0xFF, 0xFF, 0xFF, 0xFF}, // tentacle23.png
    {0xDF, 0xE7, 0xE0, 0xF1, 0xFB, 0xFF, 0xFF, 0xFF}  // tentacle24.png
  },
  {
    {0xF1, 0xF0, 0xF2, 0xF8, 0xF8, 0xFC, 0xFC, 0xFE}, // tentacle30.png
    {0xF3, 0xE3, 0xE3, 0xF3, 0xF1, 0xF8, 0xFF, 0xFF}, // tentacle31.png
    {0xC7, 0xC3, 0xE1, 0xF1, 0xF0, 0xFF, 0xFF, 0xFF}, // tentacle32.png
    {0xDF, 0xC3, 0xE1, 0xF0, 0xF8, 0xFF, 0xFF, 0xFF}, // tentacle33.png
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
  },
  {
    {0xFE, 0xFC, 0xF8, 0xFA, 0xF8, 0xF9, 0xFB, 0xFF}, // tentacle40.png
    {0xFE, 0xFC, 0xF8, 0xFA, 0xF8, 0xF9, 0xFB, 0xFF}, // tentacle41.png
    {0xFC, 0xC0, 0xE0, 0xF0, 0xFF, 0xFF, 0xFF, 0xFF}, // tentacle42.png
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
  }
};

const uint8_t diverBitmap[17][(16 * 16) / 8] PROGMEM = {
  {0x9F, 0x9F, 0xA3, 0x41, 0x14, 0x00, 0x14, 0x41, 0x63, 0x3F, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF9, 0xF9, 0xFB, 0xFB, 0xFC, 0xFC, 0xF8, 0xE3, 0xE7, 0xE7, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, // diver0.png
  {0x9F, 0x9F, 0xA3, 0x41, 0x14, 0x00, 0x14, 0x41, 0x63, 0x3F, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF9, 0xF9, 0xFB, 0xFB, 0xFC, 0xFC, 0xF8, 0xE3, 0xE7, 0xE7, 0xF0, 0xE0, 0xE1, 0xE3, 0xFF, 0xFF}, // diver1.png
  {0x4F, 0x4F, 0xDF, 0xA3, 0x01, 0x00, 0x0A, 0x80, 0x45, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xFC, 0xCD, 0xCD, 0xC4, 0xF8, 0xFC, 0xFF, 0xFF, 0xFC, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, // diver2.png
  {0x4F, 0x4F, 0x9F, 0xA3, 0x01, 0x00, 0x0A, 0x80, 0x45, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xFC, 0xCD, 0xCD, 0xC4, 0xF8, 0xFC, 0xC7, 0x83, 0x80, 0xC1, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, // diver3.png
  {0x7F, 0xCF, 0xCF, 0xDF, 0xA3, 0x09, 0x02, 0x10, 0x04, 0x41, 0x63, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xFC, 0xFD, 0xFD, 0xFC, 0xC0, 0xCC, 0xDE, 0xFF, 0xFF, 0xFE, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF}, // diver4.png
  {0x7F, 0xCF, 0xCF, 0xDF, 0xA3, 0x09, 0x02, 0x10, 0x04, 0x41, 0x63, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xFC, 0xFD, 0xFD, 0xFC, 0xC0, 0xCC, 0xDE, 0xFF, 0xFF, 0xFE, 0xE0, 0xC1, 0xC3, 0xC7, 0xFF}, // diver5.png
  {0xFF, 0xFF, 0x63, 0x41, 0x04, 0x10, 0x02, 0x49, 0x63, 0x3F, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0x9C, 0x9E, 0x87, 0xE0, 0xF0, 0xF3, 0xF3, 0xF1, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, // diver6.png
  {0xFF, 0xFF, 0x63, 0x41, 0x04, 0x10, 0x02, 0x49, 0x63, 0x3F, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0x9C, 0x9E, 0x87, 0xE0, 0xF0, 0xF3, 0xF3, 0xF1, 0xFF, 0xE0, 0xC0, 0xC1, 0xC7, 0xFF, 0xFF}, // diver7.png
  {0xFF, 0xFF, 0xFF, 0xCF, 0xCF, 0x9F, 0xA3, 0x01, 0x10, 0x04, 0xA0, 0xC9, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xE7, 0xE7, 0xE7, 0xF3, 0xF9, 0xF0, 0x80, 0x9E, 0x9C, 0xF3, 0xF3, 0xFF, 0xFF, 0xFF}, // diver8.png
  {0x7F, 0x3F, 0x1F, 0x0F, 0xCF, 0x9F, 0xA3, 0x01, 0x10, 0x04, 0xA0, 0xC9, 0xE3, 0xFF, 0xFF, 0xFF, 0xF8, 0xF8, 0xE4, 0xE7, 0xE7, 0xF3, 0xF9, 0xF0, 0x80, 0x9E, 0x9C, 0xF3, 0xF3, 0xFF, 0xFF, 0xFF}, // diver9.png
  {0xFF, 0xFF, 0xFF, 0xCF, 0xCF, 0x9F, 0xA3, 0x01, 0x10, 0x04, 0x20, 0x49, 0x63, 0x7F, 0x7F, 0xFF, 0xFF, 0xFF, 0xE7, 0xE7, 0xE7, 0xF3, 0xF9, 0xF0, 0x80, 0x9E, 0x9F, 0xFF, 0xFF, 0xFE, 0xFE, 0xFF}, // diver10.png
  {0x7F, 0x3F, 0x1F, 0x0F, 0xCF, 0x9F, 0xA3, 0x01, 0x10, 0x04, 0x20, 0x49, 0x63, 0x7F, 0x7F, 0xFF, 0xF8, 0xF8, 0xE4, 0xE7, 0xE7, 0xF3, 0xF9, 0xF0, 0x80, 0x9E, 0x9F, 0xFF, 0xFF, 0xFE, 0xFE, 0xFF}, // diver11.png
  {0xFF, 0xFF, 0xFF, 0xCF, 0xCF, 0x9F, 0xA3, 0x01, 0x10, 0x04, 0xA0, 0xC9, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xE7, 0xE7, 0xE7, 0xF3, 0xF9, 0xF0, 0x80, 0x9E, 0x9C, 0xF3, 0xF3, 0xFF, 0xFF, 0xFF}, // diver12.png
  {0x7F, 0x3F, 0x1F, 0x0F, 0xCF, 0x9F, 0xA3, 0x01, 0x10, 0x04, 0xA0, 0xC9, 0xE3, 0xFF, 0xFF, 0xFF, 0xF8, 0xF8, 0xE4, 0xE7, 0xE7, 0xF3, 0xF9, 0xF0, 0x80, 0x9E, 0x9C, 0xF3, 0xF3, 0xFF, 0xFF, 0xFF}, // diver13.png
  {0x7F, 0x3F, 0x1F, 0x0F, 0x4F, 0x9F, 0xA3, 0x01, 0x10, 0x04, 0xA0, 0xC9, 0xE3, 0xFF, 0xFF, 0xFF, 0xF8, 0xF8, 0xE4, 0xE7, 0xE6, 0xF2, 0xF8, 0xF0, 0x80, 0x9E, 0x9F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, // diver14.png
  {0x7F, 0x3F, 0x1F, 0x0F, 0x4F, 0x9F, 0xA3, 0x01, 0x10, 0x04, 0xA0, 0xC9, 0xE3, 0xFF, 0xFF, 0xFF, 0xF8, 0xF8, 0xE4, 0xE7, 0xE6, 0xF2, 0xF8, 0xF0, 0x80, 0x9E, 0x9F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}, // diver15.png
  {0x7F, 0x3F, 0x1F, 0x0F, 0x4F, 0x9F, 0xA3, 0x01, 0x10, 0x04, 0xA0, 0xC9, 0xE3, 0xFF, 0xFF, 0xFF, 0xF8, 0xF8, 0xE4, 0xE7, 0xE6, 0xF2, 0xF8, 0xF0, 0x80, 0x9E, 0x9F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}  // diver16.png
};

class Octopus : public Game {
  private:
    // for reading current time from internet
    typedef enum {
      SYNC_SHOW_RESET_SCREEN,
      SYNC_READ_INTERNET_TIME,
      SYNC_DELAY,
      SYNC_FINISHED
    } SyncInternetTimeStep;

    const char* wifiSSID = ""; // your WiFI network name
    const char* wifiPassword = ""; // your WiFi password
    const float timeZone = +7.00f; // your time zone (+7.00 is UTC+07:00 Bangkok)
    bool isTimeVisibled;
    int hours;
    int minutes;
    int seconds;
    float showResetScreenTime;
    SyncInternetTimeStep syncInternetTimeStep;

    typedef enum {
      GAME_NONE,
      GAME_A,
      GAME_B
    } GameType;

    const Point tentaclePosition[5][5] = {
      {{45, 23}, {37, 23}, {29, 21}, { 0,  0}, { 0,  0}},
      {{45, 23}, {38, 28}, {34, 34}, {31, 39}, { 0,  0}},
      {{55, 27}, {52, 32}, {51, 35}, {51, 41}, {49, 48}},
      {{67, 34}, {68, 37}, {69, 41}, {69, 46}, { 0,  0}},
      {{84, 39}, {87, 43}, {91, 47}, { 0,  0}, { 0,  0}}
    };

    const uint8_t* diverStepImage[6];
    bool isDiverStepVisibled[6];
    const Point diverStepPosition[6] = {{16, 1}, {19, 18}, {21, 38}, {38, 50}, {59, 49}, {78, 50}};

    bool isRemainderVisibled[2];
    const Point remainderPosition[2] = {{40, 1}, {31, 1}};

    const uint8_t* hourDigitImage[2];
    bool isHourDigitVisibled[2];
    const Point hourDigitPosition[2] = {{60, 1}, {67, 1}};

    const uint8_t* minuteDigitImage[2];
    bool isMinuteDigitVisibled[2];
    const Point minuteDigitPosition[2] = {{77, 1}, {84, 1}};

    bool isMissDiverVisibled;
    const Point missDiverPosition = {59, 30};

    const uint8_t* missArmImage;
    bool isMissArmVisibled;
    const Point missArmPosition = {63, 39};

    const uint8_t* missLegsImage;
    bool isMissLegsVisibled;
    const Point missLegsPosition = {75, 33};

    const uint8_t* gameTypeImage;
    bool isGameTypeVisibled;

    unsigned long timeSyncLastFrameTime;

    unsigned long gameAHighScore;
    unsigned long gameBHighScore;
    static const int gameASpeed = 220;
    static const int gameBSpeed = 170;
    static const int diverSpeed = 300;
    int gameSpeed;
    bool isSecondChanged;
    unsigned long gameLoopTime;
    byte gameType;
    bool isBagVisibled;
    byte miss;
    bool isPlaying;
    byte addBonusScore;
    short secondCount;
    bool isScoreVisibled;
    byte onTheBoatCount;
    byte caught;
    byte clearMissCount;
    byte diverPosition;
    bool isJustStarted;
    bool isShowResetScreen;
    byte showHighScoreTime;
    bool isColonVisibled;
    bool isAMVisibled;
    bool isPMVisibled;

    bool isRandomTentacle;
    byte currentTentacle;
    bool isEndOfTentacle[5];
    byte tentacleDirection[5];
    byte tentacleCount[5];
    const byte maxTentacleCount[5] = {3, 4, 5, 4, 3};
    bool isTentacleVisibled[5][5];
    byte tentacle;
    byte diverPositionIndex;
    bool isNextTentacle;

    void addScore();
    void autoMove();
    void autoPlayScreen();
    void pressButton();
    void checkBonusScore();
    void checkCaught();
    void checkClearMiss();
    void checkDiver();
    void checkHighScore();
    void checkMiss();
    bool checkShowHighScoreTime();
    void checkSpeed();
    void checkTentacle();
    void gotCaught();
    void initGame();
    void moveLeft();
    void moveRight();
    void playSound(int index);
    void resetGame();
    void showGameType(byte gameTypeValue);
    void showHighScore(byte gameTypeValue);
    void showResetScreen(byte gameTypeValue = 0);
    void showScore(short value);
    void showTime();
    void startGame();
    void tryAgain();

  public:
    Octopus();
    bool isBackToMenuEnabled();
    void update();
    void render();
};
}

#endif
